## Инструкция по установке и использованию «База Лобаново»


### 1. Подготовка оборудования и ПО

**Что вам понадобится:**
* **Сервер** (один компьютер в локальной сети села):
  * ОС: Windows 10/11 или Linux Ubuntu 22.04 LTS;
  * ОЗУ: минимум 4 ГБ;
  * диск: от 21 ГБ свободного места;
  * стабильное питание (желательно ИБП).
* **Клиенты** (компьютеры/смартфоны жителей):
  * любой браузер (Chrome, Firefox, Edge, Safari);
  * доступ к локальной сети села.

### 2. Установка на сервер

**Шаг 1. Установите Python 3.10+**  
* Скачайте с официального сайта [python.org](https://www.python.org).
* При установке отметьте «Add Python to PATH».

**Шаг 2. Скачайте проект**  
1. Откройте командную строку (Windows) или терминал (Linux).
2. Перейдите в нужную папку:  
   ```cmd
   cd C:\lobanovo-base  (Windows)
   ```
   ```bash
   cd /home/user/lobanovo-base  (Linux)
   ```
3. Скачайте код (пример для Git):  
   ```bash
   git clone https://github.com/example/lobanovo-base.git
   ```
   *Если Git не установлен — скачайте ZIP‑архив и распакуйте в нужную папку.*

**Шаг 3. Установите зависимости**  
1. Перейдите в папку проекта:  
   ```bash
   cd lobanovo-base
   ```
2. Установите пакеты из `requirements.txt`:  
   ```bash
   pip install -r requirements.txt
   ```

**Шаг 4. Настройте конфигурацию**  
1. Откройте файл `config.py` в папке проекта.
2. Задайте параметры:  
   ```ini
   SECRET_KEY=ваш_уникальный_ключ  # например, 'my-secret-key-2024'
   HOST=0.0.0.0
   PORT=5000
   ```
   *`SECRET_KEY` — любая случайная строка (минимум 16 символов).*

### 3. Запуск сервера

1. Откройте терминал в папке проекта.
2. Запустите приложение:  
   ```bash
   python run.py
   ```
3. В консоли появится сообщение:  
   ```
   * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
   ```
4. Сервер готов! Он доступен по IP‑адресу сервера в локальной сети.

**Как узнать IP‑адрес сервера (Windows):**  
1. Нажмите `Win + R`, введите `cmd`, нажмите Enter.
2. В терминале наберите:  
   ```cmd
   ipconfig
   ```
3. Найдите строку **IPv4 Address** — это нужный IP (например, `192.168.1.100`).

### 4. Доступ с клиентских устройств

1. На любом устройстве в сети села откройте браузер.
2. Введите адрес:  
   ```
   http://192.168.1.100:5000  # замените на IP вашего сервера
   ```
3. Вы увидите главную страницу «База Лобаново».

### 5. Первое использование

#### А. Авторизация
1. Перейдите на страницу входа:  
   ```
   http://<IP‑сервера>:5000/login
   ```
2. Введите логин и пароль (администратор должен заранее создать учётные записи).

#### Б. Мессенджер
1. Перейдите в раздел **«Чат»** (ссылка в шапке сайта).
2. Чтобы отправить сообщение:
   * наберите текст в поле ввода;
   * нажмите **«Отправить»**.
3. Для создания группового чата обратитесь к администратору.

#### В. Python‑терминал
1. Перейдите в раздел **«Терминал»**.
2. Введите код Python (например):  
   ```python
   print("Привет, Лобаново!")
   ```
3. Нажмите **«Выполнить»**. Результат появится ниже.

**Примеры задач для терминала:**
* посчитать сумму чисел:  
  ```python
  sum([10, 20, 30])
  ```
* построить график (если установлены `matplotlib` и `numpy`):  
  ```python
  import matplotlib.pyplot as plt
  plt.plot([1, 2, 3], [1, 4, 2])
  plt.show()
  ```

### 6. Управление пользователями (для администратора)

**Как добавить нового пользователя:**  
1. Откройте терминал на сервере.
2. Перейдите в папку проекта.
3. Запустите Python и выполните:  
   ```python
   from app import create_app, db
   from app.models import User
   app = create_app()
   with app.app_context():
       db.session.add(User(username='ivan', password='хешированный_пароль'))
       db.session.commit()
   ```
   *Для хеширования пароля используйте `werkzeug.security.generate_password_hash()`.*

### 7. Резервное копирование

**Как сохранить данные:**  
1. Найдите файл `lobanovo.db` в папке проекта.
2. Скопируйте его на внешний носитель или в облако.
3. Для восстановления замените старый файл на резервный.

### 8. Обновление системы

1. Остановите сервер (нажмите `Ctrl+C` в терминале).
2. Скачайте новую версию проекта.
3. Выполните:  
   ```bash
   pip install -r requirements.txt  # если есть обновления
   python run.py
   ```

### 9. Устранение неполадок

**Проблема: «Сайт не открывается»**  
* Проверьте, запущен ли сервер (`python run.py`).
* Убедитесь, что IP‑адрес введён верно.
* Проверьте подключение к локальной сети.

**Проблема: «Ошибка при выполнении кода»**  
* Код содержит синтаксические ошибки — проверьте отступы и знаки.
* Превышено время выполнения (30 сек) — упростите задачу.

**Проблема: «Не получается войти»**  
* Убедитесь, что учётная запись создана.
* Проверьте правильность логина и пароля.

### 10. Безопасность

**Рекомендации:**  
* Не открывайте сервер в интернет (только локальная сеть).
* Регулярно меняйте пароли пользователей.
* Делайте резервные копии `lobanovo.db`.
* Обновляйте Python и пакеты из `requirements.txt`.

### 11. Контакты поддержки

Если возникли сложности:  
* Обратитесь к местному IT‑специалисту.
* Напишите на почту: `floppa.os.2015@gmail.com`
